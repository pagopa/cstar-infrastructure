{
    "name": "CopyInvalidatedRowsToCSVTemp",
    "description": "Retrieve records and copy them into a temporary CSV file.",
    "type": "Copy",
    "dependsOn": [],
    "typeProperties": {
      "source": {
        "type": "AzureDataExplorerSource",
        "query": {
          "value": "Aggregates\n| where fileName == '@{item()}'\n| where isnull(valid)",
          "type": "Expression"
        }
      },
      "sink": {
        "type": "DelimitedTextSink",
        "storeSettings": {
          "type": "AzureBlobStorageWriteSettings",
          "linkedServiceName": {
            "referenceName": "${linked_service_name}",
            "type": "LinkedServiceReference"
          }
        },
        "formatSettings": {
          "type": "DelimitedTextWriteSettings",
          "quoteAllText": true
        }
      }
    }
  }
  